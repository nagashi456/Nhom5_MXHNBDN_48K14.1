{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="profile-page">
    <div class="profile-header">
        <a href="#" class="back-button">
            <i data-lucide="arrow-left"></i>
            <span>Trà My</span>
        </a>
        <span class="post-count">33 posts</span>
    </div>
    <div class="cover-photo">
        <button class="add-cover-btn">
            <i data-lucide="camera"></i>
            <span>Add Cover Photo</span>
        </button>
    </div>

    <div class="profile-info">
        <div class="profile-avatar">
            <img src="{% static 'img/avatar_tm.jpg' %}" alt="Profile">
        </div>
        <div class="profile-details">
            <div class="profile-name">
                <h2>Trà My</h2>
                <span class="username">@my</span>
            </div>
        </div>
        <div class="profile-actions">
          <button class="edit-profile-button">
                        <i class="fas fa-edit"></i>
                        Chỉnh sửa trang cá nhân
                    </button>

        </div>
    </div>

    <div class="tabs">
                    <div class="tab-list">
                        <button class="tab-button active" data-tab="posts">Bài viết</button>
                        <button class="tab-button" data-tab="info">Thông tin cá nhân</button>
                    </div>

                    <!-- Posts Tab Content -->
                    <div class="tab-content active" id="posts">
                        <!-- Post -->
                        <div class="post">
                            <div class="post-header">
                                <div class="post-avatar">
                                    <img src="https://via.placeholder.com/40" alt="Profile">
                                </div>
                                <div>
                                    <h3 class="post-author">Nguyễn Thị Trà My</h3>
                                    <p class="post-username">@tramy</p>
                                </div>
                                <div class="post-date">Tháng 24</div>
                            </div>

                            <div class="post-content">
                                <h4 class="post-title">THÔNG BÁO LƯƠNG THÁNG 03/2025</h4>
                                <p class="post-text">
                                    Hôm nay ngày 05/03/2025, kế toán đã thanh toán lương cho toàn bộ nhân viên. Hiện nay có sự thay
                                    đổi về bậc/hệ số lương. Mọi người nếu có thắc mắc hãy điền đơn Kiến nghị dưới đính kèm sau:
                                </p>
                            </div>

                            <div class="post-action">
                                <button class="form-button">MẪU ĐƠN KIẾN NGHỊ</button>
                            </div>

                            <div class="salary-info">
                                <h4 class="salary-title">HỆ THỐNG THANG LƯƠNG, BẢNG LƯƠNG</h4>
                                <div class="salary-description">
                                    <p>I. Mức lương tối thiểu:</p>
                                    <p>- Mức lương tối thiểu vùng áp dụng từ ngày 01/07/2023:</p>
                                    <p>+ Hệ thống thang lương, bảng lương: <span class="highlight">4.180.000 đồng/tháng</span></p>
                                </div>

                                <div class="salary-description">
                                    <p>I. BẢNG LƯƠNG CHỨC VỤ QUẢN LÝ DOANH NGHIỆP</p>
                                    <p>Đơn vị tính: 1000 đồng</p>
                                </div>

                                <div class="table-container">
                                    <table class="salary-table">
                                        <thead>
                                            <tr>
                                                <th class="text-left">Chức danh công việc</th>
                                                <th>Mã</th>
                                                <th colspan="7">Bậc/hệ số mức lương</th>
                                            </tr>
                                            <tr>
                                                <th></th>
                                                <th></th>
                                                <th>1</th>
                                                <th>2</th>
                                                <th>3</th>
                                                <th>4</th>
                                                <th>5</th>
                                                <th>6</th>
                                                <th>7</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>1. Giám Đốc</td>
                                                <td class="text-center">GĐ</td>
                                                <td class="text-center">1.80</td>
                                                <td class="text-center">1.85</td>
                                                <td class="text-center">2.90</td>
                                                <td class="text-center">2.95</td>
                                                <td class="text-center">3.30</td>
                                                <td class="text-center">3.60</td>
                                                <td class="text-center">4.30</td>
                                            </tr>
                                            <tr>
                                                <td>2. Phó Giám Đốc</td>
                                                <td class="text-center">PGĐ</td>
                                                <td class="text-center">1.50</td>
                                                <td class="text-center">1.75</td>
                                                <td class="text-center">1.90</td>
                                                <td class="text-center">2.45</td>
                                                <td class="text-center">2.75</td>
                                                <td class="text-center">3.25</td>
                                                <td class="text-center">3.65</td>
                                            </tr>
                                            <tr>
                                                <td>3. Trưởng phòng (Kế toán trưởng)</td>
                                                <td class="text-center">TP</td>
                                                <td class="text-center">1.40</td>
                                                <td class="text-center">1.45</td>
                                                <td class="text-center">1.75</td>
                                                <td class="text-center">2.00</td>
                                                <td class="text-center">2.30</td>
                                                <td class="text-center">2.60</td>
                                                <td class="text-center">2.95</td>
                                            </tr>
                                            <tr>
                                                <td>4. Phó phòng</td>
                                                <td class="text-center">PP</td>
                                                <td class="text-center">1.30</td>
                                                <td class="text-center">1.35</td>
                                                <td class="text-center">1.40</td>
                                                <td class="text-center">1.45</td>
                                                <td class="text-center">1.50</td>
                                                <td class="text-center">1.55</td>
                                                <td class="text-center">1.60</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="post-interactions">
                                <div class="interaction">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>122</span>
                                </div>
                                <div class="interaction">
                                    <i class="fas fa-thumbs-down"></i>
                                    <span>0</span>
                                </div>
                                <div class="interaction">
                                    <i class="fas fa-comment"></i>
                                    <span>3</span>
                                </div>
                            </div>
                        </div>

                        <!-- Company Logo -->

                    </div>

                    <!-- Info Tab Content -->
                    <div class="tab-content" id="info">
                        <p class="info-text">Thông tin cá nhân sẽ hiển thị ở đây</p>
                    </div>
                </div>





</div>

<!-- Add search box to the right side -->
<div class="search-container">
    <div class="search-box">
        <input type="text" class="search-input" placeholder="Tìm kiếm">
    </div>
</div>


<style>
    /* Profile Page Styles */
    .profile-page {
        max-width: 800px;
        margin: 0 auto;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        font-family: "Times New Roman", serif; /* Thêm font Times New Roman */
    }

    .profile-header {
        padding: 16px;
        border-bottom: 1px solid #e4e4e4;
        display: flex;
        align-items: center;
    }

    .back-button {
        display: flex;
        align-items: center;
        color: #5858fa;
        text-decoration: none;
        font-weight: 500;
    }
.tabs {
            width: 100%;
        }

        .tab-list {
            display: flex;
            border-bottom: 1px solid #e4e4e4;
        }

        .tab-button {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #686868;
            position: relative;
        }

        .tab-button.active {
            color: #5858fa;
            font-weight: 500;
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #5858fa;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Post */
        .post {
            border-bottom: 1px solid #e4e4e4;
            padding: 16px;
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
        }

        .post-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .post-author {
            font-size: 14px;
            font-weight: 500;
        }

        .post-username {
            font-size: 12px;
            color: #9a9a9a;
        }

        .post-date {
            margin-left: auto;
            font-size: 12px;
            color: #9a9a9a;
        }

        .post-content {
            margin-bottom: 16px;
        }

        .post-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .post-text {
            font-size: 14px;
        }

        .post-action {
            margin-bottom: 16px;
        }

        .form-button {
            background-color: #e4e4e4;
            border: 1px solid #d9d9d9;
            color: #686868;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }

        /* Salary Info */
        .salary-info {
            margin-bottom: 16px;
        }

        .salary-title {
            font-size: 14px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
        }

        .salary-description {
            font-size: 12px;
            margin-bottom: 8px;
        }

        .highlight {
            color: #ff0000;
        }

        .table-container {
            overflow-x: auto;
        }

        .salary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .salary-table th,
        .salary-table td {
            border: 1px solid #d9d9d9;
            padding: 4px;
        }

        .salary-table thead tr {
            background-color: #f2f2f2;
        }

        .text-left {
            text-align: left;
        }

        .text-center {
            text-align: center;
        }

        /* Post Interactions */
        .post-interactions {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-top: 16px;
        }

        .interaction {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #686868;
            font-size: 12px;
        }
    .back-button i {
        margin-right: 8px;
    }

    .post-count {
        color: #686868;
        font-size: 14px;
        margin-left: 8px;
    }

    .cover-photo {
        height: 128px;
        background-color: #f1f1ff;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .add-cover-btn {
        display: flex;
        align-items: center;
        background: none;
        border: none;
        color: #5858fa;
        cursor: pointer;
        font-size: 14px;
    }

    .add-cover-btn i {
        margin-right: 8px;
    }

    .profile-info {
        padding: 16px 24px;
        display: flex;
        align-items: center;
    }

    .profile-avatar {
        position: relative;
        margin-top: -48px;
    }

    .profile-avatar img {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 4px solid #ffffff;
    }

    .profile-details {
        flex: 1;
        margin-left: 16px;
    }

    .profile-name {
        display: flex;
        align-items: center;
    }

    .profile-name h2 {
        font-size: 18px;
        font-weight: 600;
    }

    .username {
        color: #686868;
        margin-left: 8px;
        font-size: 14px;
    }

    .profile-actions {
        display: flex;
        gap: 8px;
    }

    .save-btn {
        background-color: #150aa1;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 14px;
        cursor: pointer;
    }

    .share-btn {
        display: flex;
        align-items: center;
        background-color: white;
        color: #686868;
        border: 1px solid #e4e4e4;
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 14px;
        cursor: pointer;
    }

    .share-btn i {
        margin-right: 8px;
    }

    .bio-section {
        padding: 16px 24px;
        border-top: 1px solid #e4e4e4;
    }

    /* Thay đổi cỡ chữ và màu chữ cho h3 trong bio-section */
    .bio-section h3 {
        font-size: 18px;   /* Cỡ chữ lớn hơn */
        font-weight: 600;  /* Đậm hơn */
        color: #2C3E50;    /* Màu tối đậm */
        margin-bottom: 12px;
        text-transform: uppercase; /* Chữ in hoa */
        letter-spacing: 1px; /* Khoảng cách giữa các chữ */
    }

    .bio-section textarea {
        width: 100%;
        height: 100px;
        padding: 12px;
        border: 1px solid #e4e4e4;
        border-radius: 4px;
        resize: none;
        font-family: "Times New Roman", serif; /* Thêm font Times New Roman */
        font-size: 14px;
    }

    .bio-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 8px;
    }

    .char-count {
        font-size: 12px;
        color: #a8a8a8;
    }

    .form-sections {
        padding: 16px 24px;
        border-top: 1px solid #e4e4e4;
    }

    .form-section {
        margin-bottom: 16px;
    }

    /* Thay đổi cỡ chữ và màu chữ cho h3 trong form-section */
    .form-section h3,.bio-section h3 {
        font-size: 12px;   /* Cỡ chữ lớn hơn */
        font-weight: 600;  /* Đậm hơn */
        color: #2C3E50;    /* Màu tối đậm */
        margin-bottom: 12px;
        text-transform: uppercase; /* Chữ in hoa */
        letter-spacing: 1px; /* Khoảng cách giữa các chữ */
    }

    .form-row {
        display: flex;
        gap: 8px;
    }

    .form-row input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #e4e4e4;
        border-radius: 4px;
        font-size: 14px;
    }
    .edit-profile-button {
            margin-left: auto;
            background-color: white;
            border: 1px solid #5858fa;
            color: #5858fa;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
        }
    .change-btn {
        background-color: #150aa1;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 14px;
        cursor: pointer;
    }

    .password-fields {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .password-fields input {
        padding: 8px 12px;
        border: 1px solid #e4e4e4;
        border-radius: 4px;
        font-size: 14px;
    }

    .logout-section {
        padding: 24px;
        border-top: 1px solid #e4e4e4;
        display: flex;
        justify-content: center;
    }

    .logout-btn {
        background-color: white;
        color: #686868;
        border: 1px solid #d9d9d9;
        border-radius: 4px;
        padding: 8px 32px;
        font-size: 14px;
        cursor: pointer;
    }

    /* Override search container position */
    .search-container {
        position: absolute;
        top: 64px;
        right: 16px;
    }

    /* Override content area */
    .content-area {
        display: block;
        padding: 16px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Lucide icons
        lucide.createIcons();
    });
    const textarea = document.getElementById("bioTextarea");
    const charCount = document.getElementById("charCount");
    const MAX_CHARS = 888;
    const warningMessage = document.getElementById("warningMessage");

    textarea.addEventListener("input", function () {
    let content = textarea.value;

    // Kiểm tra số ký tự
    if (content.length > MAX_CHARS) {
      content = content.substring(0, MAX_CHARS);
      textarea.value = content;
      warningMessage.style.display = 'block';
    } else {
      warningMessage.style.display = 'none';
    }

    // Cập nhật hiển thị số ký tự
    charCount.textContent = `${textarea.value.length}/${MAX_CHARS}`;
    });
  document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Add active class to clicked button and corresponding content
                    button.classList.add('active');
                    const tabId = button.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        });
  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));

        button.classList.add('active');
        document.getElementById(button.dataset.tab).classList.add('active');
    });
});
  document.querySelectorAll('.interaction').forEach(item => {
    item.addEventListener('click', () => {
        // ví dụ: tăng số like
        const count = item.querySelector('span');
        count.textContent = parseInt(count.textContent) + 1;
    });
});
</script>
{% endblock %}